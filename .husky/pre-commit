#!/usr/bin/env sh
set -e

echo "[husky] pre-commit: cargo fmt"
cargo fmt --all

echo "[husky] pre-commit: cargo clippy (warnings only)"
cargo clippy --workspace --all-targets -- -W warnings || true

# 将格式化产生的变更加入本次提交
git add -u
