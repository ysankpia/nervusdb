# Release Notes: v0.6.0 - Native Temporal Core

**Release Date:** 2025-11-07

## Overview

v0.6.0 introduces native Rust implementation for temporal memory operations, providing significant performance improvements and better cross-platform support while maintaining full API compatibility.

## What's New

### üöÄ Native Temporal Memory Backend

- **Rust Core Implementation**: Temporal timeline queries now powered by Rust for 2-3x performance improvement
- **Automatic Fallback**: Seamlessly falls back to TypeScript implementation when native addon unavailable
- **Zero Breaking Changes**: Existing code works without modification
- **Cross-Platform**: Native binaries for macOS (Intel/ARM), Linux (x64), and Windows (x64)

### üìä Performance Improvements

| Operation      | v0.5.0 (TS) | v0.6.0 (Native) | Improvement     |
| -------------- | ----------- | --------------- | --------------- |
| Timeline Query | ~5ms        | ~2ms            | **2.5x faster** |
| Entity Lookup  | ~3ms        | ~1ms            | **3x faster**   |
| Fact Insertion | ~10ms       | ~5ms            | **2x faster**   |

### üîß API Enhancements

All existing temporal memory APIs remain unchanged:

```typescript
// Works identically in v0.5.0 and v0.6.0
await db.memory.ingestMessages(messages, context);
const timeline = db.memory
  .timelineBuilder(entityId)
  .predicate('mentions')
  .asOf('2025-01-01T00:00:00Z')
  .all();
```

## Migration Guide

### For New Projects

No action needed - native backend is automatically enabled when available.

### For Existing Projects

1. Update to v0.6.0:

   ```bash
   pnpm add nervusdb@^0.6.0
   ```

2. Existing `<db>.temporal.json` data is automatically compatible

3. Verify native backend is active (optional):
   ```typescript
   import { loadNativeCore } from 'nervusdb/native/core';
   console.log(loadNativeCore() ? '‚úÖ Native' : '‚ö†Ô∏è  TypeScript');
   ```

See [Native Temporal Migration Guide](../NATIVE_TEMPORAL_MIGRATION.md) for details.

## Breaking Changes

**None** - This release is fully backward compatible.

## Bug Fixes

- Fixed pre-push hook performance test exclusion syntax
- Improved error handling in native timeline queries

## Documentation Updates

- Updated [README](../../README.md) with native temporal information
- Updated [ADR-006](../architecture/ADR-006-Temporal-Memory-Graph.md) to reflect native implementation
- Added [Migration Guide](../NATIVE_TEMPORAL_MIGRATION.md)

## Testing

- **586 tests passing** (all existing tests + new native parity tests)
- New integration test: `tests/integration/temporal/native_parity.test.ts`
- Verified parity between native and TypeScript implementations

## Technical Details

### Implementation

- **Rust Core**: `nervusdb-core/src/temporal.rs`
- **NAPI Bindings**: `native/nervusdb-node/src/lib.rs`
- **TypeScript Integration**: `src/native/core.ts`

### Supported Platforms

| Platform | Architecture          | Status       |
| -------- | --------------------- | ------------ |
| macOS    | x64 (Intel)           | ‚úÖ Supported |
| macOS    | arm64 (Apple Silicon) | ‚úÖ Supported |
| Linux    | x64 (glibc)           | ‚úÖ Supported |
| Windows  | x64                   | ‚úÖ Supported |

## Known Issues

None at this time.

## Deprecations

None.

## Contributors

- @luQingU - Native temporal implementation and documentation

## Related Issues

- Closes #38: feat(core): add temporal episode/fact storage
- Closes #39: feat(core): expose native temporal timeline API
- Closes #40: refactor(ts): rewire temporal memory to native core
- Closes #41: docs/chore: native temporal migration guide

## Next Steps

See [v0.7.0 Milestone](../program/milestones/) for upcoming features.

---

**Full Changelog**: https://github.com/nervusdb/nervusdb/compare/v0.5.0...v0.6.0
