# NervusDB 新用户指南

> 欢迎使用 NervusDB v1.1.0！本指南帮助您快速上手。

---

## 📚 必读文档（按顺序）

### 1️⃣ 第一步：了解项目

**必读**：[README.md](../README.md)

- 项目概览、架构图、核心特性
- 安装方式、快速上手示例
- 5 分钟了解 NervusDB 是什么

**推荐阅读时间**：10-15 分钟

---

### 2️⃣ 第二步：安装与环境

**必读**：[教程 01 · 安装与环境](教学文档/教程-01-安装与环境.md)

**安装方式选择**：

#### 方式 A：全局 CLI 安装（推荐开发者）

```bash
# 克隆仓库
git clone https://github.com/your-org/NervusDB.git
cd NervusDB

# 安装依赖
pnpm install

# 构建
pnpm build

# 全局安装
npm install -g .

# 验证安装
nervusdb --help
```

**优点**：命令行工具随时可用

#### 方式 B：npm 包安装（推荐应用开发）

```bash
# 在您的项目中
npm install nervusdb
# 或
pnpm add nervusdb
```

**优点**：作为依赖集成到应用

#### 方式 C：直接使用（无安装）

```bash
# 使用 pnpm dlx
pnpm dlx nervusdb stats demo.nervusdb
```

**环境要求**：

- Node.js ≥ 18（推荐 20+）
- pnpm 8/9/10（推荐 10）
- 操作系统：macOS / Linux / Windows

**推荐阅读时间**：5 分钟

---

### 3️⃣ 第三步：快速上手

**必读**：[教程 02 · 数据模型与基础 CRUD](教学文档/教程-02-数据模型与基础CRUD.md)

**核心概念**：

- 三元组（Subject-Predicate-Object）
- 节点属性与边属性
- 基础写入、查询、删除

**示例代码**：

```typescript
import { NervusDB } from 'nervusdb';

// 打开数据库
const db = await NervusDB.open('demo.nervusdb');

// 写入数据
db.addFact(
  { subject: 'user:alice', predicate: 'FRIEND_OF', object: 'user:bob' },
  {
    subjectProperties: { name: 'Alice', age: 25 },
    edgeProperties: { since: '2024-01-01' },
  },
);

// 查询数据
const friends = await db.find({ subject: 'user:alice' }).all();

// 持久化
await db.flush();
await db.close();
```

**推荐阅读时间**：20 分钟

---

### 4️⃣ 第四步：查询与联想

**必读**：[教程 03 · 查询与链式联想](教学文档/教程-03-查询与链式联想.md)

**学习内容**：

- `find()` 查询入口
- `follow()` / `followReverse()` 链式联想
- `where()` 属性过滤
- `limit()` / `distinct()` 结果处理

**示例**：二度好友查询

```typescript
const secondDegreeFriends = await db
  .find({ subject: 'user:alice', predicate: 'FRIEND_OF' })
  .follow('FRIEND_OF')
  .where((edge) => edge.edgeProperties?.strength > 0.5)
  .limit(10)
  .all();
```

**推荐阅读时间**：30 分钟

---

## 📖 进阶文档（按需阅读）

### 核心功能

| 文档                                                               | 适用场景                   | 阅读时间 |
| ------------------------------------------------------------------ | -------------------------- | -------- |
| [教程 04 · 事务、WAL、幂等](教学文档/教程-04-事务-WAL-幂等.md)     | 需要事务一致性、崩溃恢复   | 20 分钟  |
| [教程 05 · 索引选择与性能](教学文档/教程-05-索引选择与性能.md)     | 关注查询性能优化           | 15 分钟  |
| [教程 06 · 维护与治理](教学文档/教程-06-维护与治理.md)             | 数据库运维、压缩、GC       | 25 分钟  |
| [教程 07 · 存储格式与持久化](教学文档/教程-07-存储格式与持久化.md) | 深入理解存储机制           | 20 分钟  |
| [教程 08 · 部署与最佳实践](教学文档/教程-08-部署与最佳实践.md)     | 生产环境部署               | 30 分钟  |
| [教程 09 · FAQ 与排错](教学文档/教程-09-FAQ与排错.md)              | 遇到问题时快速查找解决方案 | 10 分钟  |

### 高级特性

| 文档                                                                  | 适用场景                       | 阅读时间 |
| --------------------------------------------------------------------- | ------------------------------ | -------- |
| [插件系统使用指南](使用示例/插件系统使用指南.md)                      | 使用插件扩展功能               | 15 分钟  |
| [图算法库使用指南](使用示例/图算法库使用指南.md)                      | 最短路径、中心性、社区发现     | 25 分钟  |
| [全文搜索使用指南](使用示例/全文搜索使用指南.md)                      | 需要全文检索功能               | 20 分钟  |
| [空间几何计算指南](使用示例/空间几何计算指南.md)                      | 地理空间数据处理               | 20 分钟  |
| [TypeScript 类型系统使用指南](使用示例/TypeScript类型系统使用指南.md) | 追求类型安全的 TypeScript 项目 | 15 分钟  |
| [流式查询使用教程](使用示例/流式查询使用教程.md)                      | 大数据集查询、内存控制         | 15 分钟  |

### 查询语言

| 文档                                          | 适用场景                 | 阅读时间 |
| --------------------------------------------- | ------------------------ | -------- |
| [Cypher 语法参考](使用示例/Cypher语法参考.md) | 熟悉 Neo4j Cypher 的用户 | 20 分钟  |
| [GraphQL 使用指南](使用示例/graphql_usage.md) | GraphQL 生态集成         | 15 分钟  |
| [Gremlin 使用指南](使用示例/gremlin_usage.md) | 熟悉 TinkerPop 的用户    | 15 分钟  |

### 迁移与集成

| 文档                                                                            | 适用场景             | 阅读时间 |
| ------------------------------------------------------------------------------- | -------------------- | -------- |
| [迁移指南 - 从 Neo4j 与 TinkerGraph](使用示例/迁移指南-从Neo4j与TinkerGraph.md) | 从其他图数据库迁移   | 25 分钟  |
| [性能基准测试指南](使用示例/性能基准测试指南.md)                                | 验证性能是否满足需求 | 15 分钟  |

---

## 🔧 CLI 工具速查

### 常用命令

```bash
# 查看统计信息
nervusdb stats demo.nervusdb

# 检查数据库健康
nervusdb check demo.nervusdb --strict

# 自动压缩（推荐定期运行）
nervusdb auto-compact demo.nervusdb --auto-gc

# 垃圾回收
nervusdb gc demo.nervusdb --respect-readers

# 导出调试
nervusdb dump demo.nervusdb SPO 0
```

**详细说明**：[附录 · CLI 参考](教学文档/附录-CLI参考.md)

---

## 📋 API 速查

### 核心 API

```typescript
// 打开数据库
const db = await NervusDB.open(path, options);

// 写入
db.addFact(fact, properties);
await db.deleteFact(fact);

// 查询
const results = await db.find(criteria).all();
const stream = db.streamFacts(criteria);

// 事务批次
db.beginBatch({ txId, sessionId });
db.commitBatch({ durable: true });
db.abortBatch();

// 持久化
await db.flush();
await db.close();
```

**详细说明**：[附录 · API 参考](教学文档/附录-API参考.md)

---

## 🎯 实战案例

### 推荐学习路径

1. **代码知识图谱**：[实战 · 代码知识图谱](教学文档/实战-代码知识图谱.md)
   - 分析代码依赖关系
   - 构建模块依赖图
   - 识别循环依赖

2. **商城系统**：[实战 · 商城系统](教学文档/实战-商城系统.md)
   - 商品分类、用户订单
   - 推荐系统
   - 数据血缘追踪

---

## 🚀 快速验证安装

### 5 分钟验证流程

```bash
# 1. 创建测试数据库（200条记录）
nervusdb bench test.nervusdb 200 default

# 2. 查看统计信息
nervusdb stats test.nervusdb

# 3. 检查健康状态
nervusdb check test.nervusdb

# 4. 清理测试文件
rm -rf test.nervusdb*
```

**预期输出**：

- bench: 插入时间 < 100ms
- stats: 显示 200 条三元组
- check: 无错误

---

## 📞 获取帮助

### 遇到问题？

1. **查看 FAQ**：[教程 09 · FAQ 与排错](教学文档/教程-09-FAQ与排错.md)
2. **查看常见问题**：[使用示例 · 常见问题与排错](使用示例/99-常见问题与排错.md)
3. **提交 Issue**：[GitHub Issues](https://github.com/your-org/NervusDB/issues)
4. **查看知识库**：`.qoder/repowiki/zh/content/`（深度技术文档）

### 推荐学习顺序

```
第1天：README + 教程01 + 教程02（安装与基础）
第2天：教程03（查询与联想）+ 实战案例
第3天：教程04-06（进阶功能）
第4天：插件系统 + 图算法（按需）
第5天：生产部署 + 性能调优
```

---

## 📦 提供给用户的文档包

### 最小文档集（新手必备）

```
/docs
├── README.md                                      # 项目概览
├── 新用户指南.md                                  # 本文件
├── 教学文档/
│   ├── 教程-01-安装与环境.md                      # 安装指南
│   ├── 教程-02-数据模型与基础CRUD.md              # 快速上手
│   ├── 教程-03-查询与链式联想.md                  # 核心功能
│   ├── 附录-API参考.md                            # API 速查
│   └── 附录-CLI参考.md                            # CLI 速查
└── 使用示例/
    ├── 插件系统使用指南.md                        # 插件系统
    └── 99-常见问题与排错.md                       # 故障排除
```

### 完整文档集（深度用户）

```
/docs
├── 教学文档/                                      # 系列教程（00-09）
├── 使用示例/                                      # 实战指南
├── milestones/                                    # 版本规划
└── NervusDB设计文档.md                           # 架构设计
```

---

## 🎉 开始使用

**推荐起点**：

1. ✅ 阅读 [README.md](../README.md)（10 分钟）
2. ✅ 安装并运行快速验证（5 分钟）
3. ✅ 学习 [教程 02](教学文档/教程-02-数据模型与基础CRUD.md)（20 分钟）
4. ✅ 运行一个实战案例（30 分钟）

**总计时间**：约 1 小时，您就可以开始使用 NervusDB！

---

## 📌 版本信息

- **当前版本**：v1.1.0
- **更新日志**：[CHANGELOG.md](../CHANGELOG.md)
- **下一步方向**：[NEXT_STEPS.md](../NEXT_STEPS.md)（真实验证驱动的演进）

---

**祝您使用愉快！如有问题，欢迎提交 Issue。**
